###############################################
# Root Environment Example (Backend + Frontend)
# Copy to .env (backend) and adjust. Frontend variables go in apps/web/.env
###############################################

# --- Backend Core ---
PORT=4000
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/postgres

# --- Optional External APIs / Rates ---
RATES_REFRESH_MS=60000
COINGECKO_API_URL=https://api.coingecko.com/api/v3
DOMA_COINGECKO_ID=

# --- DOMA Network / Explorer Settings ---
DOMA_API_BASE=https://api-testnet.doma.xyz
DOMA_API_KEY=
DOMA_GRAPHQL_ENDPOINT=https://api-testnet.doma.xyz/graphql
DOMA_CHAIN_ID=97476
DOMA_RPC_URL=https://rpc-testnet.doma.xyz
# Multiple RPCs (comma separated) overrides DOMA_RPC_URL if set
# DOMA_RPC_URLS=https://rpc-testnet.doma.xyz,https://backup-rpc.example

ENABLE_INGESTION=true
ENABLE_EXPLORER=true

# --- Explorer Performance Tuning (safe defaults) ---
EXPLORER_RPC_TIMEOUT_MS=12000
EXPLORER_RPC_RETRY_COUNT=2
EXPLORER_RPC_RETRY_DELAY_MS=200
EXPLORER_GLOBAL_RPC_CONCURRENCY=100
EXPLORER_SLICE_JITTER_MS=0
EXPLORER_INTERVAL_MS=2000
EXPLORER_BACKFILL_BLOCKS=50
EXPLORER_CATCHUP_CONCURRENCY=5
EXPLORER_CATCHUP_BATCH=200
EXPLORER_MAX_DYNAMIC_CONCURRENCY=60
EXPLORER_SLICE_PARALLELISM=4

# --- USD Rates Fallbacks ---
USD_PER_ETH=3000
USD_PER_DOMA=1

# --- Frontend (put these in apps/web/.env) ---
# VITE_API_URL=http://localhost:4000
